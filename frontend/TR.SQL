CREATE TRIGGER `UPDATE_BIKE_DETAILS` AFTER UPDATE ON `booking_details`
 FOR EACH ROW BEGIN
    IF NEW.BOOKING_STATUS ='C' THEN
      UPDATE BIKE SET AVAILABILITY_FLAG = 'A'  WHERE REGISTRATION_NUMBER = NEW.REG_NUM;
    ELSE 
      IF NVL(NEW.ACT_RET_DT_TIME,'NULL') <> 'NULL' THEN
        UPDATE BIKE SET AVAILABILITY_FLAG = 'A' , LOC_ID = NEW.DROP_LOC WHERE REGISTRATION_NUMBER = NEW.REG_NUM;
      END IF;
    END IF;
END

CREATE TRIGGER `BOOK_BIKE` AFTER INSERT ON `booking_details`
 FOR EACH ROW BEGIN

IF NEW.BOOKING_STATUS ='B' THEN
UPDATE BIKE SET AVAILABILITY_FLAG = 'N' WHERE REGISTRATION_NUMBER = NEW.REG_NUM;



END IF;
END 
